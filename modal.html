<html>
  <head></head>
  <body>
    <h1>Editor</h1>
    <input id="message" type="text" placeholder="Your message goes here" />
    <script>
      (function () {
        const parent = window.opener;
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get('modalId');
        const inputMessage = document.getElementById('message');
        const initialMessage = urlParams.get('message');
        if (initialMessage) {
          inputMessage.value = initialMessage;
        }
        setInterval(() => {
          parent.postMessage(
            {
              modalId: id,
              message: inputMessage.value,
            },
            document.referrer
          );
        }, 100);
      })();
    </script>
  </body>
</html>
